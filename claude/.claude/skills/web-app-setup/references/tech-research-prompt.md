# 技術リサーチ サブエージェント プロンプトテンプレート

Phase 4 で Agent ツールの `prompt` パラメータに使うテンプレート。
`{...}` を実際の値に置換して使用する。

---

## テンプレート

```
以下の技術カテゴリについてリサーチし、比較表を作成してください。

## リサーチ対象
- カテゴリ: {category_name}
- 評価軸: {evaluation_criteria（カンマ区切り）}

## コンテキスト
`{decisions_file_path}` を Read ツールで読み、以下を把握してください：
- ビジネス要件（アプリ概要・規模・制約）
- ユーザープロファイル（技術的背景・学習コスト許容度）
- アーキテクチャの決定事項
- 既に決定済みの技術（互換性を考慮すること）

## 作業手順
1. WebSearch で最新動向を2-3回検索する（例: "{category_name} comparison 2026", "{category_name} vs {候補} benchmark"）
2. 候補を3-5個に絞る
3. 下記の出力形式に従い比較表を作成する

## 出力形式（この形式のみ返すこと）

### {category_name}

**候補**: A, B, C, ...

| 評価軸 | A | B | C |
|--------|---|---|---|
| {axis_1} | (+) 備考 | (o) | (-) 備考 |
| {axis_2} | ... | ... | ... |
| 学習コスト | ... | ... | ... |
| 既決定技術との相性 | ... | ... | ... |

**推奨**: {候補名} — {1-2文の理由}

重要:
- 出力はこの比較表 + 推奨のみ。WebSearch の生データや URL 一覧は含めない
- 評価記号: (+) 促進 / (o) 中立 / (-) 阻害
- 備考は同セル内に短く添える（長い説明は不要）
- 「学習コスト」軸ではユーザープロファイルの技術的背景を必ず考慮する
- 「既決定技術との相性」軸では setup-decisions.md に記載済みの技術との互換性を評価する
```

---

## 使用上の注意

- `subagent_type` は `"general-purpose"` を指定する
- 同一レイヤー（依存関係なし）の項目は1つの応答で複数の Agent ツールを並列呼び出しする
- サブエージェントの結果を受け取ったら、そのままユーザーに提示する（再加工は不要）
- ユーザーが追加情報を求めた場合、同じテンプレートで追加の検索クエリを指定してサブエージェントを再起動する
