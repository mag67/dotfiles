# 成果物テンプレート

各フェーズで生成する md ファイルのテンプレート。
すべてのテンプレートに **SKILL.md の「成果物の共通構造」** を適用する（ステータスヘッダー、技術判断ログ、ドメインに関する確認事項、変更履歴）。
以下は各フェーズ固有の本文セクションのみ記載する。

---

## RFC テンプレート（Phase 1）

```markdown
## 背景
{この機能が必要な背景・課題の説明}

## 課題
{解決したい具体的な問題}

## 提案アプローチ

### 案1: {アプローチ名}
{概要説明}
**メリット**: / **デメリット**: / **実装コスト**: 低 / 中 / 高

### 案2: {アプローチ名}
{同上}

### 比較表
| 観点 | 案1 | 案2 |
|------|-----|-----|
| 実装コスト / パフォーマンス / 拡張性 / 既存コードとの整合性 | | |

### 推奨
{推奨案とその理由}

## リスクと軽減策
| リスク | 影響度 | 軽減策 |

## 前提条件・依存関係

## スコープ外
```

---

## PRD テンプレート（Phase 2）

```markdown
## 概要
{機能の概要（1-2文）}

## ドメイン構造サマリー
Phase 0 のドメイン構造分解を要約。PRD の要件導出の根拠として参照する。
- コアエンティティ: | エンティティ | 説明 | ライフサイクル |
- ビジネスルール一覧: | # | ルール | 条件 | 対応要件 |
- 管理ドキュメント: | ドキュメント | 作成タイミング | 管理要件 |（該当する場合）

## 機能要件（MoSCoW）
Phase 0 のドメイン構造分解から体系的に導出する。
- Must Have / Should Have / Could Have / Won't Have

## 非機能要件
パフォーマンス / セキュリティ / アクセシビリティ

## 受け入れ基準
各ビジネスルール（BR-xx）に対応する基準を含める。Given-When-Then 形式推奨。

## 網羅性チェック結果
| 観点 | 結果 |
|------|------|
| エンティティ CRUD / ライフサイクル / ビジネスルール / ドキュメント管理 / ステークホルダー | OK / 不足 |
```

---

## ユースケーステンプレート（Phase 3）

```markdown
## アクター
- {アクター名}: {説明、主要なゴール}

## シナリオ導出の根拠
phase-details.md の発見手法で導出した結果を簡潔にまとめる:
- ライフサイクル分析: | エンティティ | ライフサイクルイベント | 対応UC |
- ステークホルダー × ゴール: | アクター | ゴール | 正常系UC | 異常系UC |
- ビジネスルール対応: | ルール | 充足UC | 違反UC |

## 正常系シナリオ
### UC-01: {シナリオ名}
アクター / 事前条件 / トリガー / 手順 / 事後条件 / 期待結果 / 対応要件 / 対応ビジネスルール

## 異常系シナリオ
### UC-E01: {シナリオ名}

## エッジケース
### UC-X01: {シナリオ名}

## 横断的関心事シナリオ
権限・認可 / 監査ログ / 通知 / ドキュメント管理（該当する場合）

## 網羅性検証マトリクス
- 要件カバレッジ: | 要件ID | 正常系UC | 異常系UC | カバレッジ |
- ビジネスルールカバレッジ: | ルール | 充足UC | 違反UC | カバレッジ |
```

---

## DDDモデルテンプレート（Phase 5）

```markdown
## ユビキタス言語
| 用語 | 定義 | コード上の表現 |

## 境界づけられたコンテキスト
### {コンテキスト名}
責務 / 主要概念 / 外部依存

## コンテキストマップ
{Mermaid 図}

## ドメインイベント
| イベント | トリガー | 発行元 | 消費者 |

## 既存コードとの整合性
整合している点 / 乖離・要検討
```

---

## UI/UXデザインテンプレート（Phase 4）

```markdown
## ユーザーフロー
{Mermaid フロー図}

## コンポーネント構成
新規作成 / 既存再利用 / shadcn/ui 使用

## 画面レイアウト
{ASCII ワイヤーフレーム or 説明}

## インタラクション定義
| 操作 | 状態変化 | フィードバック |

## Storybook ストーリー一覧
### Page ストーリー（MVP レビューの主対象）
fullscreen でページ全体の各状態をカバー: Initial / Loading / WithResults / NoResults / Error
### Component ストーリー
| ストーリー | パス | 状態 |

## アクセシビリティ
キーボード / スクリーンリーダー / カラーコントラスト
```

---

## 技術設計テンプレート（Phase 6）

```markdown
## アーキテクチャ
{Mermaid アーキテクチャ図}

## API 設計
### {METHOD} {path}
- **リクエスト**: {型定義}
- **レスポンス**: {型定義}
- **エラー**: {エラーコードと条件}
- **TypeSpec 定義**: {対応する TypeSpec の場所}

## データベーススキーマ
### 新規テーブル / カラム
```sql
-- {説明}
```
### マイグレーション手順
1. ...

## コンポーネント設計
### {コンポーネント/モジュール名}
- **責務**: / **インターフェース**: / **依存**:

## ファイル構成
- 新規: `{path}` — {説明}
- 変更: `{path}` — {変更内容}

## 実装順序
1. [ ] {ステップ}: {説明}（依存: なし）
2. [ ] {ステップ}: {説明}（依存: ステップ1）
```
