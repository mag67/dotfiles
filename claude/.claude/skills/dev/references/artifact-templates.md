# 成果物テンプレート

各フェーズで生成する md ファイルのテンプレート。
状況に応じてセクションの追加・省略は可能だが、**技術判断ログ** と **変更履歴** は必須。
**ドメインに関する確認事項** はドメインの不明点がある場合のみ記載する。

---

## RFC テンプレート（Phase 1）

```markdown
# RFC: {機能名}

**ステータス**: draft | in-review | approved
**更新日**: YYYY-MM-DD
**イテレーション**: 1

---

## 背景

{この機能が必要な背景・課題の説明}

## 課題

{解決したい具体的な問題}

## 提案アプローチ

### 案1: {アプローチ名}

{概要説明}

**メリット**:
- ...

**デメリット**:
- ...

**実装コスト**: 低 / 中 / 高

### 案2: {アプローチ名}

{同上}

### 比較表

| 観点 | 案1 | 案2 |
|------|-----|-----|
| 実装コスト | | |
| パフォーマンス | | |
| 拡張性 | | |
| 既存コードとの整合性 | | |

### 推奨

{推奨案とその理由}

## リスクと軽減策

| リスク | 影響度 | 軽減策 |
|--------|--------|--------|
| | | |

## 前提条件・依存関係

- {この機能の実装に必要な前提}

## スコープ外

- {今回対応しないこと}

---

## 技術判断ログ

| # | 判断ポイント | 選択肢 | 決定 | 根拠 |
|---|-------------|--------|------|------|
| 1 | {例: データ永続化方式} | A: localStorage / B: DB / C: Session | B: DB | {既存アーキテクチャとの整合性、スケーラビリティ等} |

## ドメインに関する確認事項

{調査で確信が持てなかったドメインの判断のみ記載。該当なしなら「確認事項なし」}

1. **{ドメインの疑問点}**
   - 調査結果: {何を調べ、何がわかったか}
   - 想定: {Claude の現時点の想定}
   - 確認したいこと: {ユーザーに判断してほしい点}

## 変更履歴

- v1: 初回ドラフト
```

---

## PRD テンプレート（Phase 2）

```markdown
# PRD: {機能名}

**ステータス**: draft | in-review | approved
**更新日**: YYYY-MM-DD
**イテレーション**: 1

---

## 概要

{機能の概要（1-2文）}

## 機能要件

### Must Have
- [ ] {要件1}
- [ ] {要件2}

### Should Have
- [ ] {要件}

### Could Have
- [ ] {要件}

### Won't Have（今回対象外）
- {対象外の要件}

## 非機能要件

- **パフォーマンス**: {レスポンスタイム等}
- **セキュリティ**: {認証・認可要件等}
- **アクセシビリティ**: {WCAG レベル等}

## 受け入れ基準

### {要件1}
- Given: {前提条件}
- When: {操作}
- Then: {期待結果}

## 制約事項

- {技術的制約}
- {ビジネス的制約}

## 前提条件

- {前提}

---

## 技術判断ログ

| # | 判断ポイント | 選択肢 | 決定 | 根拠 |
|---|-------------|--------|------|------|
| 1 | {判断} | A / B | {決定} | {根拠} |

## ドメインに関する確認事項

{該当なしなら「確認事項なし」}

## 変更履歴

- v1: 初回ドラフト
```

---

## ユースケーステンプレート（Phase 3）

```markdown
# ユースケース: {機能名}

**ステータス**: draft | in-review | approved
**更新日**: YYYY-MM-DD
**イテレーション**: 1

---

## アクター

- {アクター名}: {説明}

## 正常系シナリオ

### UC-01: {シナリオ名}

- **アクター**: {誰が}
- **事前条件**: {前提}
- **トリガー**: {何がきっかけで}
- **手順**:
  1. {ステップ}
  2. {ステップ}
- **事後条件**: {結果の状態}
- **期待結果**: {ユーザーが見る結果}

## 異常系シナリオ

### UC-E01: {シナリオ名}

- **アクター**: ...
- **事前条件**: ...
- **トリガー**: {異常な入力/状態}
- **手順**: ...
- **期待結果**: {エラーメッセージ、フォールバック動作}

## エッジケース

### UC-X01: {シナリオ名}

- **条件**: {境界値、特殊な状態}
- **期待結果**: {期待される振る舞い}

## カバレッジマトリクス

| シナリオ | 要件 | テスト優先度 |
|---------|------|-------------|
| UC-01 | Must Have #1 | 高 |
| UC-E01 | Must Have #1 | 高 |
| UC-X01 | Should Have #1 | 中 |

---

## 技術判断ログ

| # | 判断ポイント | 選択肢 | 決定 | 根拠 |
|---|-------------|--------|------|------|
| 1 | {判断} | A / B | {決定} | {根拠} |

## ドメインに関する確認事項

{該当なしなら「確認事項なし」}

## 変更履歴

- v1: 初回ドラフト
```

---

## DDDモデルテンプレート（Phase 4）

```markdown
# DDDモデル: {機能名}

**ステータス**: draft | in-review | approved
**更新日**: YYYY-MM-DD
**イテレーション**: 1

---

## ユビキタス言語

| 用語 | 定義 | コード上の表現 | 備考 |
|------|------|----------------|------|
| | | | |

## 境界づけられたコンテキスト

### {コンテキスト名}

- **責務**: {何を管理するか}
- **主要概念**: {ドメインオブジェクト}
- **外部依存**: {他コンテキストとの関係}

## コンテキストマップ

{Mermaid 図}

## ドメインイベント

| イベント | トリガー | 発行元 | 消費者 |
|---------|---------|--------|--------|
| | | | |

## 既存コードとの整合性

### 整合している点
- ...

### 乖離・要検討
- ...

---

## 技術判断ログ

| # | 判断ポイント | 選択肢 | 決定 | 根拠 |
|---|-------------|--------|------|------|
| 1 | {判断} | A / B | {決定} | {根拠} |

## ドメインに関する確認事項

{該当なしなら「確認事項なし」}

## 変更履歴

- v1: 初回ドラフト
```

---

## UI/UXデザインテンプレート（Phase 5）

```markdown
# UI/UXデザイン: {機能名}

**ステータス**: draft | in-review | approved
**更新日**: YYYY-MM-DD
**イテレーション**: 1

---

## ユーザーフロー

{Mermaid フロー図}

## コンポーネント構成

### 新規作成
- `{ComponentName}/`
  - props: ...
  - 状態: ...

### 既存再利用
- `{ComponentName}/` — {変更の有無}

### shadcn/ui 使用
- `{コンポーネント名}` — {用途}

## 画面レイアウト

{ASCII ワイヤーフレーム or 説明}

## インタラクション定義

| 操作 | 状態変化 | フィードバック |
|------|---------|---------------|
| | | |

## Storybook ストーリー一覧

| ストーリー | パス | 状態 |
|-----------|------|------|
| {Name} Default | `components/{Name}/{Name}.stories.tsx` | 作成済み / 未作成 |

## アクセシビリティ

- キーボード: ...
- スクリーンリーダー: ...
- カラーコントラスト: ...

---

## 技術判断ログ

| # | 判断ポイント | 選択肢 | 決定 | 根拠 |
|---|-------------|--------|------|------|
| 1 | {判断} | A / B | {決定} | {根拠} |

## ドメインに関する確認事項

{該当なしなら「確認事項なし」}

## 変更履歴

- v1: 初回ドラフト
```

---

## 技術設計テンプレート（Phase 6）

```markdown
# 技術設計: {機能名}

**ステータス**: draft | in-review | approved
**更新日**: YYYY-MM-DD
**イテレーション**: 1

---

## アーキテクチャ

{Mermaid アーキテクチャ図}

## API 設計

### {METHOD} {path}

- **リクエスト**: {型定義}
- **レスポンス**: {型定義}
- **エラー**: {エラーコードと条件}
- **TypeSpec 定義**: {対応する TypeSpec の場所}

## データベーススキーマ

### 新規テーブル / カラム

```sql
-- {説明}
```

### マイグレーション手順

1. ...

## コンポーネント設計

### {コンポーネント/モジュール名}

- **責務**: ...
- **インターフェース**: ...
- **依存**: ...

## ファイル構成

### 新規ファイル
- `{path}` — {説明}

### 変更ファイル
- `{path}` — {変更内容}

## 実装順序

1. [ ] {ステップ}: {説明}（依存: なし）
2. [ ] {ステップ}: {説明}（依存: ステップ1）
3. [ ] {ステップ}: {説明}（依存: ステップ1）
4. [ ] {ステップ}: {説明}（依存: ステップ2,3）

---

## 技術判断ログ

| # | 判断ポイント | 選択肢 | 決定 | 根拠 |
|---|-------------|--------|------|------|
| 1 | {判断} | A / B | {決定} | {根拠} |

## ドメインに関する確認事項

{該当なしなら「確認事項なし」}

## 変更履歴

- v1: 初回ドラフト
```
